{
    "$id": "definitions_schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "description": "The MCUXpresso SDK data schema property definitions",
    "version": "1.0.0",
    "definitions": {
        "exampleDescriptionType": {
            "type": "object",
            "description": "The example data type.",
            "additionalProperties": false,
            "properties": {
                "use_sysbuild": {
                    "type": "boolean",
                    "description": "Using sysbuild, for multi projects solution.",
                    "default": true
                },
                "skip_build": {
                    "type": "boolean",
                    "description": "Skip project build. Used when project is already build by other project with sysbuild.",
                    "default": true
                },
                "section-type": {
                    "description": "Identify project type, it could be application or library.",
                    "enum": [
                        "application",
                        "library"
                    ]
                },
                "belong_to": {
                    "type": "string",
                    "description": "[MCUXpresso SDK ecosystem data] The project belong to which board or device.",
                    "examples": [
                        {
                            "belong_to": "set.board.${board}"
                        },
                        {
                            "belong_to": "set.device.${device}"
                        }
                    ]
                },
                "contents": {
                    "type": "object",
                    "description": "The project configuration.",
                    "additionalProperties": false,
                    "properties": {
                        "document": {
                            "$ref": "#/definitions/configurationDocumentType"
                        },
                        "project-root-path": {
                            "type": "string",
                            "description": "[MCUXpresso SDK ecosystem data] The project root directory in SDK package.",
                            "examples": [
                                {
                                    "project-root-path": "boards/${board}/demo_apps/hello_world/${multicore_foldername}"
                                }
                            ]
                        },
                        "meta_path": {
                            "type": "string",
                            "description": "[MCUXpresso SDK ecosystem data] The project root directory in SDK meta repo.",
                            "examples": [
                                {
                                    "meta_path": "examples/demo_apps/hello_world"
                                }
                            ]
                        },
                        "toolchains": {
                            "type": "array",
                            "minItems": 0,
                            "uniqueItems": true,
                            "additionalItems": false,
                            "items": {
                                "$ref": "#/definitions/toolchainTargetSupportType"
                            }
                        }
                    },
                    "required": [
                        "document",
                        "project-root-path"
                    ]
                },
                "boards": {
                    "$ref": "#/definitions/BoardDeviceToolchainTargetSupportType"
                },
                "devices": {
                    "$ref": "#/definitions/BoardDeviceToolchainTargetSupportType"
                },
                "shields": {
                    "$ref": "#/definitions/shieldsType"
                }
            },
            "anyOf": [
                {
                    "required": [
                        "contents",
                        "boards"
                    ]
                },
                {
                    "required": [
                        "contents",
                        "devices"
                    ]
                }
            ]
        },
        "customExampleDescriptionType": {
            "type": "object",
            "description": "The example with custom configuration data type.",
            "additionalProperties": false,
            "properties": {
                "section-type": {
                    "description": "Identify project type, it could be custom_application.",
                    "const": "custom_application"
                },
                "contents": {
                    "type": "object",
                    "description": "The project configuration.",
                    "additionalProperties": false,
                    "properties": {
                        "toolchains": {
                            "type": "array",
                            "minItems": 0,
                            "uniqueItems": true,
                            "additionalItems": false,
                            "items": {
                                "$ref": "#/definitions/toolchainTargetSupportType"
                            }
                        },
                        "document": {
                            "type": "object",
                            "properties": {
                                "extra_build_args": {
                                    "$ref": "#/definitions/extraBuildArgsType"
                                }
                            }
                        }
                    }
                },
                "boards": {
                    "$ref": "#/definitions/BoardDeviceToolchainTargetSupportType"
                },
                "devices": {
                    "$ref": "#/definitions/BoardDeviceToolchainTargetSupportType"
                },
                "shields": {
                    "$ref": "#/definitions/shieldsType"
                }
            },
            "anyOf": [
                {
                    "required": [
                        "contents",
                        "boards"
                    ]
                },
                {
                    "required": [
                        "contents",
                        "devices"
                    ]
                }
            ]
        },
        "configurationDocumentType": {
            "type": "object",
            "$comment": "configuration document object",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The solution/project name."
                },
                "version": {
                    "$ref": "#/definitions/versionType",
                    "description": "The project version.",
                    "$comment": "Currently version is optional for project"
                },
                "brief": {
                    "type": "string",
                    "description": "Detailed introduction about the solution/project."
                },
                "category": {
                    "type": "string",
                    "description": "The category for this solution/project."
                },
                "example_readme": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "The path of readme file"
                    }
                },
                "device_example": {
                    "type": "boolean",
                    "default": true,
                    "description": "Specify it is a device example, not board example"
                },
                "extra_build_args": {
                    "$ref": "#/definitions/extraBuildArgsType"
                }
            },
            "required": [
                "name",
                "category",
                "brief"
            ]
        },
        "BoardDeviceToolchainTargetSupportType": {
            "type": "object",
            "additionalProperties": false,
            "patternProperties": {
                "\\w+((@\\w+)?)$": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/BoardDeviceToolchainTargetArrayType"
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            }
        },
        "BoardDeviceToolchainTargetArrayType": {
            "type": "array",
            "minItems": 0,
            "uniqueItems": true,
            "additionalItems": false,
            "items": {
                "$ref": "#/definitions/toolchainTargetSupportType"
            }
        },
        "extraBuildArgsType": {
            "type": "array",
            "description": "The extra arguments to west build command",
            "minItems": 0,
            "uniqueItems": true,
            "items": {
                "type": "string",
                "description": "The extra cmake arguments"
            }
        },
        "toolchainTargetSupportType": {
            "type": "string",
            "pattern": "^(\\+|\\-)(iar|mdk|armgcc|xcc|xtensa|codewarrior|riscvllvm)@\\w*(debug|release)$"
        },
        "versionType": {
            "type": "string",
            "pattern": "^[0-9]+(\\.[0-9]+|(\\.[0-9]+(\\.[0-9]+|\\.[0-9]+_rev[0-9]+))|\\.[0-9]+_rev[0-9]+)$",
            "description": "Component version number. Note that if version number has only a decimal like 1.2, please add quotation marks for version in case it is identifed as number type. "
        },
        "shieldsType": {
            "type": "object"
        },
        "commonMarketingDataType": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The marketing board name"
                },
                "display_name": {
                    "type": "string",
                    "description": "The board display name"
                },
                "overview": {
                    "type": "string",
                    "description": "The board overview"
                },
                "href": {
                    "type": "string",
                    "description": "The board href"
                },
                "image": {
                    "type": "string",
                    "description": "The board image"
                },
                "full_name": {},
                "parts": {},
                "kits": {},
                "vendor": {},
                "NPI": {},
                "board": {},
                "accessories": {}
            },
            "required": [
                "name",
                "display_name",
                "overview",
                "href"
            ]
        },
        "boardSupportToolchainType": {
            "type": "array",
            "minItems": 0,
            "uniqueItems": true,
            "additionalItems": false,
            "items": {
                "$ref": "#/definitions/toolchainTargetSupportType"
            }
        }
    }
}